<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio: Docker + GitLab CI/CD (Demo)</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
</head>
<body>

<header>
  <h1>Portfolio: Docker + GitLab CI/CD (Demo)</h1>
  <nav>
    <a href="index.html">トップ</a> |
    <a href="#infra">全体構成</a> |
    <a href="#tech">技術スタック</a> |
    <a href="setup.html">環境構築手順</a> |
    <a href="ci_cd.html">CI/CD 流れ</a>
  </nav>
</header>

<main>
  <!-- 概要 -->
  <section class="fade">
    <h2>概要</h2>
    <p>
      社内でHTMLを使ったゲーム作成にあたりサーバー構築を行った。<br>
      Dockerを用いてlocal環境にてVPSを想定し（live（本番）/test（テスト））GitLab CI/CD を使った自動デプロイのサンプルです。<br>
      技術スタックと全体構成図は下記の通り。<br>
      また現段階でlocal環境のためFireWall設定やRunnerなどに関しては未記載としています。
    </p>
  </section>

  <!-- ディレクトリ構成 -->
  <section class="fade">
    <h2>ディレクトリ構成</h2>
    <div class="accordion">
      <button class="accordion-btn">表示/非表示</button>
      <div class="accordion-content">
        <pre><code>
live-test_server/
├─ live/
├─ test/
├─ runner/
└─ certs/
        </code></pre>
        <img src="images/directory.png" alt="ディレクトリ構造図" class="infra-img">
      </div>
    </div>
  </section>

  <!-- 全体構成 -->
  <section id="infra" class="fade">
    <h2>全体構成</h2>
    <img src="images/infrastructure.png" alt="全体構成図" class="infra-img">
  </section>

  <!-- 技術スタック -->
  <section id="tech" class="fade">
    <h2>技術スタック</h2>
    <div class="tech-grid">
      <div class="tech-card">
        <img src="images/ubuntu.png" alt="Ubuntu">
        <p>Ubuntu 22.04</p>
      </div>
      <div class="tech-card">
        <img src="images/docker.png" alt="Docker">
        <p>Docker</p>
      </div>
      <div class="tech-card">
        <img src="images/nginx.png" alt="nginx">
        <p>nginx</p>
      </div>
      <div class="tech-card">
        <img src="images/gitlab.png" alt="GitLab CE">
        <p>GitLab CE</p>
      </div>
      <div class="tech-card">
        <img src="images/ssh.png" alt="SSH">
        <p>SSH (ed25519)</p>
      </div>
    </div>
  </section>

</main>

<footer>
  <p>&copy; 2026 Portfolio by 土井 靖夫</p>
</footer>

<script>
// アコーディオン
const accBtn = document.querySelector('.accordion-btn');
const accContent = document.querySelector('.accordion-content');
accContent.style.display='none';
accBtn.addEventListener('click', () => {
  if(accContent.style.display==='none'){
    accContent.style.display='block';
  } else { accContent.style.display='none'; }
});

// フェードイン（スクロール時）
const faders = document.querySelectorAll('.fade');
const appearOptions = { threshold: 0.2, rootMargin: "0px 0px -50px 0px" };
const appearOnScroll = new IntersectionObserver((entries, observer) => {
  entries.forEach(entry => {
    if(!entry.isIntersecting) return;
    entry.target.classList.add('show');
    observer.unobserve(entry.target);
  });
}, appearOptions);

faders.forEach(fader => appearOnScroll.observe(fader));
</script>

</body>
</html>